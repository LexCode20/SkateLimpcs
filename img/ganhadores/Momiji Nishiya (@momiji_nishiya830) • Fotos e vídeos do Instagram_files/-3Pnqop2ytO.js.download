;/*FB_PKG_DELIM*/

__d("IGPayHubDigitalSubscriptionDetailDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24988840837426563"}),null);
__d("PolarisRelatedMediaGrid_feed.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisRelatedMediaGrid_feed",selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"items.pk"},{args:null,kind:"FragmentSpread",name:"PolarisVirtualPostsGrid_media"}],storageKey:null}],type:"XDTProfileFeedDict",abstractKey:null};e.exports=a}),null);
__d("PolarisRelatedMediaGrid.next.react",["CometRelay","IGDSBox.react","PolarisRelatedMediaGridConstants","PolarisRelatedMediaGrid_feed.graphql","PolarisSEOEventsLogger","PolarisUA","PolarisVirtualPostsGrid.next.react","polarisLogAction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useEffect,m=e.useMemo,n=e.useRef;function a(a){var e=a.analyticsContext,f=a.excludeMediaId,g=a.feed$key,i=a.footer,o=a.header;a=a.maxItems;var p=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisRelatedMediaGrid_feed.graphql"),g),q=n(!0),r=n();g=k(function(){c("polarisLogAction")("relatedMediaPostClick"),d("PolarisSEOEventsLogger").logSEOEvent({containermodule:e,eventName:"relatedMediaPostClick"})},[e]);var s=m(function(){var a;return(a=(a=p.items)==null?void 0:a.filter(function(a){a=a.pk;return a!==f}))!=null?a:[]},[p,f]);l(function(){var a=r.current;!(s.length<d("PolarisRelatedMediaGridConstants").MINIMUM_POST_COUNT)&&q.current===!0&&a!=null&&(q.current=!1,c("polarisLogAction")("relatedMediaImpression",{is_media_visible:v(a),viewport_height:window.innerHeight}),d("PolarisSEOEventsLogger").logSEOEvent({containermodule:e,eventName:"relatedMediaImpression"}))},[e,r,q,s]);if(s.length<d("PolarisRelatedMediaGridConstants").MINIMUM_POST_COUNT)return null;var t=d("PolarisUA").isDesktop()?5:3,u=d("PolarisUA").isDesktop()?0:4;a=Math.min(s.length,a);function v(a){a=a.getBoundingClientRect();var b=a.bottom;a=a.top;return!(b<0||a-window.innerHeight>=0)}return j.jsxs("div",{className:"x1qjc9v5 x972fbf xcfux6l x1qhh985 xm0m39n x9f619 x1lliihq xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x11i5rnm xat24cr x1mh8g0r x24vp2c x4uap5 x18d9i69 xkhd6sd x1n2onr6 x11njtxf",children:[j.jsx(c("IGDSBox.react"),{alignItems:"start",marginBottom:t,marginStart:u,position:"relative",children:o}),j.jsx("div",{ref:r,children:j.jsx(c("PolarisVirtualPostsGrid.next.react"),{analyticsContext:"permalinkPivot",itemProps:{onClick:g},media$key:s,visibleCount:a})}),i]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisRelatedMediaGridLoggedIn_feed.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisRelatedMediaGridLoggedIn_feed",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisRelatedMediaGrid_feed"}],type:"XDTProfileFeedDict",abstractKey:null};e.exports=a}),null);
__d("PolarisRelatedMediaGridLoggedIn.next.react",["CometRelay","PolarisRelatedMediaGrid.next.react","PolarisRelatedMediaGridLoggedIn_feed.graphql","PolarisRelatedMediaUsernameHeader.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l=6;function a(a){var e,f=j(8),g=a.analyticsContext,i=a.excludeMediaId;a=a.feed$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisRelatedMediaGridLoggedIn_feed.graphql"),a);e=(e=(e=a.user)==null?void 0:e.username)!=null?e:"";var m;f[0]!==g||f[1]!==e?(m=k.jsx(c("PolarisRelatedMediaUsernameHeader.react"),{analyticsContext:g,username:e}),f[0]=g,f[1]=e,f[2]=m):m=f[2];f[3]!==g||f[4]!==i||f[5]!==a||f[6]!==m?(e=k.jsx(c("PolarisRelatedMediaGrid.next.react"),{analyticsContext:g,excludeMediaId:i,feed$key:a,header:m,maxItems:l}),f[3]=g,f[4]=i,f[5]=a,f[6]=m,f[7]=e):e=f[7];return e}g["default"]=a}),98);