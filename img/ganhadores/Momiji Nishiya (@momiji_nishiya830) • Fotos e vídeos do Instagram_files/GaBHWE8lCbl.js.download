;/*FB_PKG_DELIM*/

__d("CentralImpressionRecord",["getStyleProperty","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{impressedAt:0,invisibleReason:null,status:null,target:a,visible:!1,visiblePercentage:0}}function b(a,b){var d=a.target,e=a.boundingClientRect,f=null,g=!1;!c("intersectionObserverEntryIsIntersecting")(a)?f="NOT_IN_VIEWPORT":e==null?f="UNDEFINED_BOUNDING_RECT":e.height===0||e.width===0?f="TARGET_SIZE_0":c("getStyleProperty")(d,"opacity")==="0"?f="TARGET_TRANSPARENT":c("getStyleProperty")(d,"visibility")==="hidden"?f="TARGET_HIDDEN":g=!0;e=g===!1?0:a.intersectionRatio;var h=b.visible,i=b.impressedAt,j=null;h&&!g?j="EXIT":!h&&g?(j="ENTER",i=Date.now()):b.visiblePercentage!==e&&(j="UPDATE");return{boundingClientRect:a.boundingClientRect,impressedAt:i,intersectionRect:a.intersectionRect,invisibleReason:f,rootBounds:a.rootBounds,status:j,target:d,visible:g,visiblePercentage:e}}function h(a,b){return!a.visible?null:babelHelpers["extends"]({},a,{invisibleReason:b,status:"EXIT",visible:!1,visiblePercentage:0})}function d(a){return h(a,"PUSH_VIEW_HIDDEN")}function e(a){return h(a,"COMPONENT_UNMOUNTED")}function f(a){return h(a,"PAGE_VISIBILITY_HIDDEN")}g.initImpressionRecord=a;g.calcNextObservedRecord=b;g.calcExitRecordOnPushViewHidden=d;g.calcExitRecordOnUnmount=e;g.calcExitRecordOnViewportHidden=f}),98);
__d("calculateImpressionViewablePercentage",[],(function(a,b,c,d,e,f){"use strict";var g={height:0,width:0,x:0,y:0};function h(a,b){var c=Math.max(a.y,b.y),d=Math.min(a.y+a.height,b.y+b.height);if(c>=d)return g;var e=Math.max(a.x,b.x);a=Math.min(a.x+a.width,b.x+b.width);return e>=a?g:{height:d-c,width:a-e,x:e,y:c}}function a(a,b,c){b={height:b.height-c.top-c.bottom,width:b.width-c.left-c.right,x:b.x+c.left,y:b.y+c.top};if(a.height===0||a.width===0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:1};if(b.height<=0||b.width<=0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:0};c=h(b,a);return{boundingClientRect:a,intersectionRect:c,rootBounds:b,visiblePercentage:c.height*c.width/(a.height*a.width)}}f["default"]=a}),66);
__d("isImpressionTargetOccluded",["containsNode","getViewportDimensions"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){d===void 0&&(d={bottom:0,left:0,right:0,top:0});try{if(!a||!b||!document.elementFromPoint)return!1;var e=c("getViewportDimensions")();if(e.height===0||e.width===0)return!1;var f=b.x,g=b.y,h=b.width;b=b.height;h=Math.min(f+h,e.width-1);b=Math.min(g+b,e.height-1);e=[{x:f,y:g},{x:f,y:b},{x:h,y:g},{x:h,y:b},{x:(f+h)/2,y:(g+b)/2}];d.top!==0&&d.top>g&&d.top<b&&e.push({x:(f+h)/2,y:(d.top+b)/2});return e.every(function(b){b=document.elementFromPoint(b.x,b.y);b=!!b&&!c("containsNode")(b,a)&&!c("containsNode")(a,b);return b})}catch(a){return!1}}g["default"]=a}),98);
__d("calcNextImpressionSnapshotRecord",["Visibility","calculateImpressionViewablePercentage","getElementPosition","getStyleProperty","getViewportDimensions","gkx","isImpressionTargetOccluded"],(function(a,b,c,d,e,f,g){"use strict";var h={bottom:0,left:0,right:0,top:0};function i(a){if(a==null||document.documentElement==null)return null;a=a.parentElement;while(a!=null){if(a===document.documentElement||a.nodeType!==1)return null;if(c("getStyleProperty")(a,"position")==="absolute"&&c("getStyleProperty")(a,"overflow")!=="visible")return a;a=a.parentElement}return null}function a(a,b,d){d===void 0&&(d={});if(c("gkx")("23489")&&d.isCometHiddenSubtree)return{impressedAt:b.impressedAt,invisibleReason:"PUSH_VIEW_HIDDEN",status:b.visible?"EXIT":null,target:a,visible:!1,visiblePercentage:0};var e=c("getElementPosition")(a),f=babelHelpers["extends"]({x:0,y:0},c("getViewportDimensions")()),g=c("calculateImpressionViewablePercentage")(e,f,h),j=!1;if(g.visiblePercentage>0){var k=i(a);k!=null&&g.intersectionRect!=null&&(j=!0,g=c("calculateImpressionViewablePercentage")(g.intersectionRect,c("getElementPosition")(k),h))}k=d;k=k.viewportMargin;j=k&&!j?c("calculateImpressionViewablePercentage")(e,f,k):g;j.visiblePercentage;f=babelHelpers.objectWithoutPropertiesLoose(j,["visiblePercentage"]);g=g;var l=g.intersectionRect;g=g.visiblePercentage;var m=null,n=!1;g<=0?m="NOT_IN_VIEWPORT":l&&c("isImpressionTargetOccluded")(a,l,k||h)?m=j.visiblePercentage===0?"OCCLUDED_BY_MARGIN":d.isCometHiddenSubtree===!0?"PUSH_VIEW_HIDDEN":"OCCLUSION_DETECTED":c("Visibility").isHidden()?m="PAGE_VISIBILITY_HIDDEN":e.height===0||e.width===0?m="TARGET_SIZE_0":c("getStyleProperty")(a,"opacity")==="0"?m="TARGET_TRANSPARENT":c("getStyleProperty")(a,"visibility")==="hidden"?m="TARGET_HIDDEN":n=!0;g=n===!1?0:j.visiblePercentage;l=b.visible;k=b.impressedAt;d=null;l&&!n?d="EXIT":!l&&n?(d="ENTER",k=Date.now()):b.visiblePercentage!==g&&(d="UPDATE");return babelHelpers["extends"]({impressedAt:k,invisibleReason:m,status:d,target:a,visible:n,visiblePercentage:g},f)}g["default"]=a}),98);
__d("CentralImpressionScrollBasedTracker",["CentralImpressionRecord","CometThrottle","ImpressionLoggingTimerThreshold","Visibility","calcNextImpressionSnapshotRecord","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f){var g=this;e===void 0&&(e=null);f===void 0&&(f={});this.THROTTLE_TIMEOUT=c("ImpressionLoggingTimerThreshold").THROTTLE_TIMEOUT;this.takeSnapshot=c("CometThrottle")(function(){if(g.$3==null||g.$8===!0)return;var a=c("calcNextImpressionSnapshotRecord")(g.$3,g.$2,g.$7);g.$9(a)},this.THROTTLE_TIMEOUT);this.takeSnapshotWithDoubleRaf=c("CometThrottle")(function(){if(g.$3==null||g.$8===!0)return;var a=c("calcNextImpressionSnapshotRecord")(g.$3,g.$2,g.$7);g.$9(a)},this.THROTTLE_TIMEOUT);this.$5=e;this.$2=d("CentralImpressionRecord").initImpressionRecord(a);this.$1=b;this.$3=a;this.$7=f;this.$8=!1;c("setTimeout")(this.takeSnapshotWithDoubleRaf,0);document.addEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0});window.addEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0});"MutationObserver"in window&&(this.$6=new MutationObserver(this.takeSnapshotWithDoubleRaf),this.$6.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}));this.$4=[c("Visibility").addListener(c("Visibility").HIDDEN,this.takeSnapshot),c("Visibility").addListener(c("Visibility").VISIBLE,this.takeSnapshot)]}var b=a.prototype;b.getOptionalUniqueID=function(){return this.$5};b.peek=function(){return this.$2};b.setIsCometHiddenInSubtree=function(a){this.$7.isCometHiddenSubtree=a};b.remove=function(){document.removeEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),window.removeEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),this.$6&&this.$6.disconnect(),this.$4.forEach(function(a){return a.remove()}),this.$8=!0};b.unmount=function(){var a=d("CentralImpressionRecord").calcExitRecordOnUnmount(this.$2);a!=null&&this.$9(a);this.remove()};b.update=function(a,b,c){c===void 0&&(c={}),this.$1=b,this.$3=a,this.$7=babelHelpers["extends"]({},this.$7,c)};b.$9=function(a){var b=this.$2;this.$2=a;a.status!=null&&this.$1(a,this,b,this.$7.isAdRefresh||!1)};return a}();g["default"]=a}),98);
__d("IgRenderingValidationAutomaticFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5007");b=d("FalcoLoggerInternal").create("ig_rendering_validation_automatic",a);e=b;g["default"]=e}),98);
__d("InstagramAdBrandProfileFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4282");b=d("FalcoLoggerInternal").create("instagram_ad_brand_profile",a);e=b;g["default"]=e}),98);
__d("InstagramAdImpressionSecondChannelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2964");b=d("FalcoLoggerInternal").create("instagram_ad_impression_second_channel",a);e=b;g["default"]=e}),98);
__d("InstagramAdSubImpressionSecondChannelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2965");b=d("FalcoLoggerInternal").create("instagram_ad_sub_impression_second_channel",a);e=b;g["default"]=e}),98);
__d("InstagramAdTimeSpentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3553");b=d("FalcoLoggerInternal").create("instagram_ad_time_spent",a);e=b;g["default"]=e}),98);
__d("InstagramAdViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3668");b=d("FalcoLoggerInternal").create("instagram_ad_viewability",a);e=b;g["default"]=e}),98);
__d("PolarisAdTimeSpentAction",["InstagramAdTimeSpentFalcoEvent","PolarisContainerModuleUtils","PolarisViewpointActionUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=500,i=new Map();function j(a,b){var c=i.get(a);b.percentVisible>=.5&&c==null&&i.set(a,b.snapshotTime);c=c==null?0:b.snapshotTime-c;if(b.state==="exited"&&c>h){i["delete"](a);return c}return null}function a(a,b,e,f,g){return function(h){var i=j(e,h);if(i==null)return;c("InstagramAdTimeSpentFalcoEvent").log(function(){var c;return{ad_id:e,follow_status:g,m_pk:(c=d("PolarisViewpointActionUtils").getMPKForFeedMedia(a))!=null?c:"",pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b),pk:(c=a.owner)==null?void 0:c.id,source_of_action:d("PolarisContainerModuleUtils").getContainerModule(b),timespent:i,tracking_token:f}})}}g.makeAdTimeSpentAction=a}),98);
__d("PolarisAdViewabilityAction",["InstagramAdViewabilityFalcoEvent","PolarisContainerModuleUtils","PolarisViewpointActionUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map(),j=new Map();function a(a,b,e,f,g){var h=function(g,h,i){var j=l(h).get(e+i);if(j==null)return;var k=(g-j)/1e3;c("InstagramAdViewabilityFalcoEvent").log(function(){return{ad_id:e,duration:k,m_pk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(a),percent_visible:h.toString(),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b),source_of_action:d("PolarisContainerModuleUtils").getContainerModule(b),tracking_token:f,visibility_unit:i}})},i=g;return function(a){k(a,0,e,h,"feed_unit",i),k(a,50,e,h,"feed_unit",i),k(a,100,e,h,"feed_unit",i),k(a,50,e,h,"viewport",i),k(a,100,e,h,"viewport",i)}}function k(a,b,c,d,e,f){c=c+e;var g=a.percentVisible*100;if(e==="viewport"){var h;h=((h=(h=a.visibleRect)==null?void 0:h.height)!=null?h:0)/f*100;g=Math.max(g,h)}f=l(b);if(g>=b&&!f.has(c))f.set(c,a.snapshotTime);else{h=g<b;b===0&&(h=a.state==="exited");h===!0&&f.has(c)&&(d(a.snapshotTime,b,e),f["delete"](c))}}function l(a){if(a===0)return h;else if(a===50)return i;return j}g.makeAdViewabilityAction=a}),98);
__d("polarisFeedSelectors",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.feed.badgeCount}function g(a){return a.feed.content[a.feed.currentFeed]}function h(a,b){for(var c=b.length-1;c>=0;c--){var d=b[c].postId;d=a.posts.byId.get((d=d)!=null?d:"");if(d!=null&&d.isSponsored===!0)return c}return-1}function b(a,b){var c=g(a);c=c.items;if(c==null||b==null)return null;c=c.slice(0,b);a=h(a,c.toArray());if(a===-1)return-1;return b<=a?null:b-a-1}f.getFeedBadgeCount=a;f.getFeedContent=g;f.getGapToLastAd=b}),66);
__d("usePolarisSponsoredPostHasImageAsCta",["$InternalEnum","PolarisUA","polarisAdsSelectors.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c,j=b("$InternalEnum").Mirrored(["Image","Video","Mixed","NotCarousel"]);function k(a){if(a==null||a.length<=0)return j.NotCarousel;if(a.every(function(a){return a.isVideo}))return j.Video;return a.every(function(a){return!a.isVideo})?j.Image:j.Mixed}function l(a,b){var c,e=a.id;a=a.isSponsored;e=d("polarisAdsSelectors.react").useFeedAdInfo(e,m);var f=e!=null;if(b==null)return!1;c=e==null?void 0:(c=e.ctaItems)==null?void 0:(c=c.get(b))==null?void 0:c.ctaLinkText;b=e==null?void 0:(e=e.ctaItems)==null?void 0:(e=e.get(b))==null?void 0:e.ctaLinkUrl;return a===!0&&f&&c!=null&&b!=null}function m(a){return a}function a(a){var b=i(6),c=a.id,e=a.sidecarChildren,f=a.usertags;a=l(a,c);b[0]!==e?(c=k(e),b[0]=e,b[1]=c):c=b[1];e=c;b[2]!==f||b[3]!==a||b[4]!==e?(c=(f==null||f.length===0)&&a&&e===j.NotCarousel&&d("PolarisUA").isDesktop(),b[2]=f,b[3]=a,b[4]=e,b[5]=c):c=b[5];return c}g.getCarouselType=k;g.usePolarisIsFeedAdWithValidCta=l;g.usePolarisSponsoredPostHasImageAsCta=a}),98);
__d("usePolarisSponsoredPostHasPersistentCta",["PolarisPostUtils","usePolarisSponsoredPostHasImageAsCta"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.isSidecar,c=a.src,e=a.thumbnailSrc;e=(e=e)!=null?e:c;b=b===!0?(c=d("PolarisPostUtils").getCurrentSidecarItemFromPost(a,0))==null?void 0:c.id:a.id;c=d("usePolarisSponsoredPostHasImageAsCta").usePolarisIsFeedAdWithValidCta(a,b);return b!=null&&c&&e!=null}g.usePolarisSponsoredPostHasPersistentCta=a}),98);
__d("PolarisSponsoredBlockedElStore",[],(function(a,b,c,d,e,f){"use strict";var g=new Set();function a(a){g.add(a)}function b(a){return g.has(a)}function c(a){return g["delete"](a)}function d(){return g.size>0}f.m=a;f.c=b;f.d=c;f.b=d}),66);
__d("PolarisSponsoredElDisplayMonitor",["clearTimeout","cometGHLContentDisplayCheck","setTimeoutCometLoggingPri"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(),i=1e3,j=null;a=function(a){h.has(a)||h.add(a);j===null&&k();return{dispose:function(){h["delete"](a),h.size===0&&(c("clearTimeout")(j),j=null)}}};var k=function a(){h.forEach(function(a,b){a=b.onLogBlockCallback;var d=b.startTime;b=b.targetRef;b=b.current;if(b==null)return;b=c("cometGHLContentDisplayCheck")(b);if(!b){b=Date.now()-d;a(b)}}),j=c("setTimeoutCometLoggingPri")(a,i)};g.m=a}),98);
__d("usePolarisSponsoredElTracker",["IgWebSwankFalcoEvent","PolarisSponsoredBlockedElStore","PolarisSponsoredElDisplayMonitor","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.c;function a(a){var b=k(17),e=a.mediaType,f=a.position,g=a.postId,h=a.trackingToken,l=j(null),m=j(!1);b[0]!==e||b[1]!==f||b[2]!==h?(a=function(a){if(m.current)return;m.current=!0;c("IgWebSwankFalcoEvent").log(function(){return{en:String(0),hd:String(a),mt:String(e),sli:String(f),tt:h}});var b=l.current;b!==null&&d("PolarisSponsoredBlockedElStore").m(b)},b[0]=e,b[1]=f,b[2]=h,b[3]=a):a=b[3];var n=a;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){var a=l.current;return function(){a&&d("PolarisSponsoredBlockedElStore").d(a)}},b[4]=a):a=b[4];var o;b[5]!==l||b[6]!==f||b[7]!==g?(o=[l,f,g],b[5]=l,b[6]=f,b[7]=g,b[8]=o):o=b[8];i(a,o);b[9]!==l||b[10]!==n?(a=function(){var a;a=null;var b=Date.now();if(l===null)return;if(m.current===!0)return;a=d("PolarisSponsoredElDisplayMonitor").m({onLogBlockCallback:n,startTime:b,targetRef:l});return function(){a&&a.dispose()}},b[9]=l,b[10]=n,b[11]=a):a=b[11];b[12]!==l||b[13]!==g||b[14]!==m||b[15]!==n?(o=[l,g,m,n],b[12]=l,b[13]=g,b[14]=m,b[15]=n,b[16]=o):o=b[16];i(a,o);return l}g["default"]=a}),98);
__d("useScrollBasedImpressionTracker",["BaseViewportMarginsContext","CentralImpressionScrollBasedTracker","HiddenSubtreePassiveContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;function a(a,b){var d=l(null),e=l(null),f=j(c("BaseViewportMarginsContext")),g=l(null),h=j(c("HiddenSubtreePassiveContext")),m=i(function(b){if(d.current==null)return;if(e.current==null||b!=null&&e.current.getOptionalUniqueID()!==b){var i=!1;e.current!=null&&(e.current.unmount(),e.current=null,i=!0);e.current=new(c("CentralImpressionScrollBasedTracker"))(d.current,a,b,{isAdRefresh:i,isCometHiddenSubtree:h.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f});g.current!=null&&(g.current.remove(),g.current=null);g.current=h.subscribeToChanges(function(a){e.current!=null&&e.current.setIsCometHiddenInSubtree(a.hiddenOrBackgrounded_FIXME)})}else e.current.update(d.current,a,{isCometHiddenSubtree:h.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f})},[h,a,f]),n=i(function(a){d.current!==a&&a!=null&&(d.current=a,m(b))},[m,b]);k(function(){return function(){e.current!=null&&(e.current.unmount(),e.current=null),g.current!=null&&(g.current.remove(),g.current=null)}},[]);k(function(){m(b)},[m,b]);return n}g["default"]=a}),98);
__d("usePolarisSponsoredPostImpressionSecondChannelLogger",["InstagramAdImpressionSecondChannelFalcoEvent","InstagramAdSubImpressionSecondChannelFalcoEvent","InstagramODS","PolarisContainerModuleUtils","PolarisInteractionsLogger","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","cr:6627","qex","usePolarisAnalyticsContext","usePolarisViewer","useScrollBasedImpressionTracker"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qex")._("1229"),i=6e4,j=2e3,k=new Map(),l=new Set();function a(a,e){var f=c("usePolarisAnalyticsContext")(),g=c("usePolarisViewer")(),m=a==null?void 0:a.ad_id,n=a==null?void 0:a.tracking_token;return c("useScrollBasedImpressionTracker")(function(a){if(m!=null&&n!=null&&f==="feedPage"&&(g==null?void 0:g.id)!=null){if(a.status!=="ENTER")return;var o={ad_id:m,inventory_source:d("PolarisContainerModuleUtils").getContainerModule(f),m_pk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(e),m_t:d("PolarisInteractionsLogger").getMediaTypeFromPost(e).toString(),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(f),pk:g==null?void 0:g.id,tracking_token:n},p=k.get(m),q=Date.now(),r=p!=null&&q-p>=i;if(l.has(m))return;l.add(m);window.setTimeout(function(){var d=c("cometGHLContentDisplayCheck")(a.target);p==null?d?(c("InstagramODS").incr("web.ads.feed.impression.second_channel"),c("InstagramAdImpressionSecondChannelFalcoEvent").logImmediately(function(){return o}),h===!0&&b("cr:6627")!=null&&b("cr:6627").log(function(){return{client_token:n,event:"impression_second_channel_client"}}),k.set(m,q)):c("InstagramODS").incr("web.ads.feed.impression.second_channel.hidden"):r&&(d?(c("InstagramODS").incr("web.ads.feed.sub_impression.second_channel"),c("InstagramAdSubImpressionSecondChannelFalcoEvent").logImmediately(function(){return o}),h===!0&&b("cr:6627")!=null&&b("cr:6627").log(function(){return{client_token:n,event:"sub_impression_second_channel_client"}}),k.set(m,q)):c("InstagramODS").incr("web.ads.feed.sub_impression.second_channel.hidden"));l["delete"](m)},j)}})}g["default"]=a}),98);
__d("usePolarisSponsoredPostImpressionRefs",["PolarisReactRedux.react","polarisAdsSelectors.react","polarisFeedSelectors","polarisPostSelectors","qex","react","useEmptyFunction","usePolarisSponsoredElTracker","usePolarisSponsoredPostImpressionSecondChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;b=c("qex")._("1002");var j=b===!0?c("usePolarisSponsoredPostImpressionSecondChannelLogger"):c("useEmptyFunction");function a(a){var b=i(2),e;b[0]!==a?(e=function(b){return d("polarisPostSelectors").getPostById(b,a)},b[0]=a,b[1]=e):e=b[1];b=d("PolarisReactRedux.react").useSelector(e);e=d("PolarisReactRedux.react").useSelector(l);var f=d("polarisAdsSelectors.react").useFeedAdInfo(b==null?void 0:b.id,k);b=j(f,b);var g=[];b!=null&&g.push(b);e=c("usePolarisSponsoredElTracker")({mediaType:0,position:(e=(b=e.items)==null?void 0:b.findIndex(function(b){b=b.postId;return b===a}))!=null?e:-2,postId:a,trackingToken:(b=f==null?void 0:f.tracking_token)!=null?b:""});g.push(e);return g}function k(a){return a}function l(a){return d("polarisFeedSelectors").getFeedContent(a)}g["default"]=a}),98);
__d("usePolarisSponsoredPostProfileClickLogger",["InstagramAdBrandProfileFalcoEvent","InstagramODS","InstagramWebAdEventsAuditFalcoEvent","PolarisContainerModuleUtils","PolarisNavChain","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.adId,e=a.adTrackingToken,f=a.analyticsContext,g=a.followStatus,h=a.mpk,j=a.postMediaType,k=a.postOwnerId,l=a.socialContext;return i(function(){var a,i=d("PolarisContainerModuleUtils").getContainerModule(f);if(b==null||e==null)return;var m={a_pk:k,ad_id:b,follow_status:g,m_pk:h,m_t:j,nav_chain:(a=c("PolarisNavChain").getInstance())==null?void 0:a.getNavChainForSend(),pigeon_reserved_keyword_module:i,source_of_action:i,tracking_token:e};c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:e,event:"profile_click",social_context_type:l==null?void 0:l.social_context_type}});c("InstagramODS").incr("web.ads.feed.profile.click");c("InstagramAdBrandProfileFalcoEvent").log(function(){return m})},[f,b,e,g,h,j,k,l==null?void 0:l.social_context_type])}g["default"]=a}),98);
__d("usePolarisSponsoredPostRenderedLogging",["InstagramODS","PolarisReactRedux.react","PolarisUA","memoizeStringOnly","polarisAdsSelectors.react","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.c,k=c("memoizeStringOnly")(function(a){return new Map()});function a(a,b){var e=j(9),f;e[0]!==a?(f=function(b){return d("polarisPostSelectors").getPostById(b,a)},e[0]=a,e[1]=f):f=e[1];f=d("PolarisReactRedux.react").useSelector(f);var g=d("polarisAdsSelectors.react").useFeedAdInfo(f==null?void 0:f.id,l),h=g==null?void 0:g.ad_id,m;e[2]!==b||e[3]!==h?(g=function(){var a=k(b),d=h!=null&&a.get(h);if(d===!0||h==null)return;c("InstagramODS").incr("web.ads.feed.rendered");a.set(h,!0)},m=[h,b],e[2]=b,e[3]=h,e[4]=g,e[5]=m):(g=e[4],m=e[5]);i(g,m);var n=f.isVideo===!0;e[6]!==n?(g=function(){n&&d("PolarisUA").isMobile()&&c("InstagramODS").incr("web.ads.msite.feed.video_ads.rendered")},m=[n],e[6]=n,e[7]=g,e[8]=m):(g=e[7],m=e[8]);i(g,m)}function l(a){return a}g["default"]=a}),98);
__d("usePolarisSponsoredPostViewpointActions",["PolarisAdImpressionAction","PolarisAdTimeSpentAction","PolarisAdViewabilityAction","PolarisViewpointActionUtils","PolarisVpvdImpressionAction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a,b,c,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t){var u=i(38),v,w;if(u[0]!==c||u[1]!==e||u[2]!==f||u[3]!==h||u[4]!==k||u[5]!==m||u[6]!==n||u[7]!==o||u[8]!==p||u[9]!==q||u[10]!==r||u[11]!==s||u[12]!==l||u[13]!==t||u[14]!==a||u[15]!==b||u[16]!==j||u[17]!==g){w=Symbol["for"]("react.early_return_sentinel");bb0:{v=[];if(c==null||e==null||f==null||h==null){var x;u[20]===Symbol["for"]("react.memo_cache_sentinel")?(x=[],u[20]=x):x=u[20];w=x;break bb0}x=babelHelpers["extends"]({ad_id:c,brs_threshold:m,organic_brs_severity_after:n,organic_brs_severity_before:o,organic_media_id_after:p,organic_media_id_before:q,pk:f,tracking_token:e,view_state_item_type_after:r,view_state_item_type_before:s},k!=null?{client_position:k,m_ix:k}:{});k!=null&&(x.m_ix=k,x.client_position=k);l!=null&&(x.gap_to_last_ad=l);t!=null&&(x.social_context=t);v.push(d("PolarisAdImpressionAction").makePostAdImpressionAction(a,b,x,j));u[21]!==a||u[22]!==b||u[23]!==c||u[24]!==e?(x=d("PolarisVpvdImpressionAction").makePostVpvdImpressionAction(a,b,c,e),u[21]=a,u[22]=b,u[23]=c,u[24]=e,u[25]=x):x=u[25];v.push(x);u[26]!==g||u[27]!==a||u[28]!==b||u[29]!==c||u[30]!==e?(x=d("PolarisAdTimeSpentAction").makeAdTimeSpentAction(a,b,c,e,d("PolarisViewpointActionUtils").getFollowStatus(g)),u[26]=g,u[27]=a,u[28]=b,u[29]=c,u[30]=e,u[31]=x):x=u[31];v.push(x);u[32]!==a||u[33]!==b||u[34]!==c||u[35]!==e||u[36]!==h?(x=d("PolarisAdViewabilityAction").makeAdViewabilityAction(a,b,c,e,h),u[32]=a,u[33]=b,u[34]=c,u[35]=e,u[36]=h,u[37]=x):x=u[37];v.push(x)}u[0]=c;u[1]=e;u[2]=f;u[3]=h;u[4]=k;u[5]=m;u[6]=n;u[7]=o;u[8]=p;u[9]=q;u[10]=r;u[11]=s;u[12]=l;u[13]=t;u[14]=a;u[15]=b;u[16]=j;u[17]=g;u[18]=v;u[19]=w}else v=u[18],w=u[19];return w!==Symbol["for"]("react.early_return_sentinel")?w:v}g["default"]=a}),98);
__d("PolarisSponsoredPost.react",["CometErrorBoundary.react","PolarisFeedPageConstants","PolarisPost.react","PolarisReactRedux.react","PolarisSponsoredPostContext.react","PolarisStoriesLoggingUtils","PolarisTrackingCodeProvider.react","PolarisViewpointActionUtils","PolarisViewpointReact.react","err","polarisAdsSelectors.react","polarisFeedSelectors","polarisLogAction","polarisPostSelectors","polarisRelationshipSelectors.react","qex","react","usePolarisSelector","usePolarisSponsoredPostHasImageAsCta","usePolarisSponsoredPostHasPersistentCta","usePolarisSponsoredPostImpressionRefs","usePolarisSponsoredPostProfileClickLogger","usePolarisSponsoredPostRenderedLogging","usePolarisSponsoredPostViewpointActions","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.c,m=c("qex")._("1002");function n(a){var b,e=l(23),f=j(d("PolarisViewpointReact.react").ViewpointContext),g=j(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),h=g.updateSponsoredPostContext;g=a.analyticsContext;var n=a.id,p;e[0]!==n?(p=function(a){return d("polarisPostSelectors").getPostById(a,n)},e[0]=n,e[1]=p):p=e[1];var q=d("PolarisReactRedux.react").useSelector(p);p=(p=c("usePolarisViewer")())==null?void 0:p.id;var r=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisRelationshipSelectors.react").getRelationship(a.relationships,(a=(a=q.owner)==null?void 0:a.id)!=null?a:"")}),s;e[2]!==a.position?(s=function(b){return d("polarisFeedSelectors").getGapToLastAd(b,a.position)},e[2]=a.position,e[3]=s):s=e[3];s=c("usePolarisSelector")(s);var t=d("polarisAdsSelectors.react").useFeedAdInfo(q==null?void 0:q.id,o),u=t==null?void 0:t.ad_id,v=t==null?void 0:t.tracking_token,w=d("usePolarisSponsoredPostHasImageAsCta").usePolarisSponsoredPostHasImageAsCta(q),x=d("usePolarisSponsoredPostHasPersistentCta").usePolarisSponsoredPostHasPersistentCta(q);b=d("PolarisViewpointActionUtils").getMPKForStoryMedia(q.id,(b=q.owner)==null?void 0:b.id);var y=d("PolarisStoriesLoggingUtils").getMediaTypeFromPost(q),z=c("usePolarisSponsoredPostProfileClickLogger")({adId:u,adTrackingToken:v,analyticsContext:g,followStatus:d("PolarisViewpointActionUtils").getFollowStatus(r),mpk:b,postMediaType:y,postOwnerId:(b=q.owner)==null?void 0:b.id});y=g===d("PolarisFeedPageConstants").FEED_PAGE_ANALYTICS_CONTEXT||g==="pastPostsFeedPage";b=g===d("PolarisFeedPageConstants").FEED_PAGE_MODAL_ANALYTICS_CONTEXT;var A=y||b;if(y){if(u==null)throw c("err")("Unexpected: a feed ad is being rendered without an ad id.");if(v==null)throw c("err")("Unexpected: a feed ad ("+u+")is being rendered without an ad tracking token.")}var B;e[4]!==h||e[5]!==x||e[6]!==A||e[7]!==z||e[8]!==w?(b=function(){h({canUserSeePersistentCta:x,onProfileClick:A?z:function(){},singleImageAdAsCta:w})},B=[x,w,h,z,A],e[4]=h,e[5]=x,e[6]=A,e[7]=z,e[8]=w,e[9]=b,e[10]=B):(b=e[9],B=e[10]);k(b,B);B=String((b=a.position)!=null?b:null);b=s!=null?String(s):void 0;c("usePolarisSponsoredPostRenderedLogging")(n,g);s=c("usePolarisSponsoredPostViewpointActions")(q,g,u,v,p,r,f==null?void 0:f.getViewport().height,m===!0,B,b);g=c("usePolarisSponsoredPostImpressionRefs")(n);e[11]!==y||e[12]!==s?(u=y?s:[],e[11]=y,e[12]=s,e[13]=u):u=e[13];e[14]!==a||e[15]!==g||e[16]!==u?(v=i.jsx(c("PolarisPost.react"),babelHelpers["extends"]({},a,{adImpressionRefs:g,isSponsored:!0,viewpointActionsForSponsoredPost:u})),e[14]=a,e[15]=g,e[16]=u,e[17]=v):v=e[17];p=v;if(!A)return p;r=c("PolarisTrackingCodeProvider.react");f=!0;b=(B=d("PolarisViewpointActionUtils").getMPKForFeedMedia(q))!=null?B:"";s=(y=t==null?void 0:t.tracking_token)!=null?y:"";e[18]!==r||e[19]!==b||e[20]!==s||e[21]!==p?(g=i.jsx(r,{isSponsored:f,m_pk:b,trackingToken:s,children:p}),e[18]=r,e[19]=b,e[20]=s,e[21]=p,e[22]=g):g=e[22];return g}function o(a){return a}function p(){c("polarisLogAction")("feedUnitFailure",{source:"PolarisSponsoredPost"})}function a(a){var b=l(2),e;b[0]!==a?(e=i.jsx(c("CometErrorBoundary.react"),{fallback:q,onError:p,children:i.jsx(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContextProvider,{children:i.jsx(n,babelHelpers["extends"]({},a))})}),b[0]=a,b[1]=e):e=b[1];return e}function q(a){return null}g["default"]=a}),98);
__d("PolarisFeedPagePostModal.react",["CometErrorBoundary.react","PolarisIsLoggedInDesktop","PolarisLinkBuilder","PolarisMonitorErrors","PolarisPost.react","PolarisPostModal.react","PolarisReactRedux.react","PolarisRoutes","PolarisSponsoredPost.react","err","nullthrows","polarisPostSelectors","react","usePolarisFeedAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b,e=k(21),f=a.mediaIdUFI,g=a.onClose,h=a.onOpen,m=a.postId;a=a.sidecarIndex;var n,o;e[0]!==g?(n=function(){return function(){g()}},o=[g],e[0]=g,e[1]=n,e[2]=o):(n=e[1],o=e[2]);j(n,o);e[3]!==m?(n=function(a){return d("polarisPostSelectors").getPostById(a,m)},e[3]=m,e[4]=n):n=e[4];o=c("nullthrows")(d("PolarisReactRedux.react").useSelector(n));n=d("PolarisReactRedux.react").useSelector(l);var p=new Set(Array.from(n.keys()));n=o.code;o=o.dimensions;var q=c("usePolarisFeedAnalyticsContext")(),r=function(a){d("PolarisMonitorErrors").logError(a),p.has(m)?d("PolarisMonitorErrors").logError(c("err")("PolarisFeedPagePostModal.react threw an error for ad in Relay",m)):d("PolarisMonitorErrors").logError(c("err")("PolarisFeedPagePostModal.react threw an error for post in Relay",m))},s=c("CometErrorBoundary.react"),t=c("PolarisPostModal.react"),u="post-modal";u=d("PolarisLinkBuilder").buildMediaLink;var v=d("PolarisRoutes").FEED_PATH;n=n||"";a=p.has(m)?i.jsx(c("PolarisSponsoredPost.react"),{analyticsContext:q+"Modal",autoplay:d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),id:m,initialCarouselIndex:(b=a)!=null?b:void 0,isVisible:!0,visiblePosition:0}):i.jsx(c("PolarisPost.react"),{analyticsContext:q+"Modal",autoplay:d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),id:m,initialCarouselIndex:(b=a)!=null?b:void 0,isVisible:!0,visiblePosition:0});e[5]!==t||e[6]!==q||e[7]!==o||e[8]!==u||e[9]!==v||e[10]!==g||e[11]!==h||e[12]!==n||e[13]!==m||e[14]!==f||e[15]!==a?(b=i.jsx(t,{analyticsContext:q,"data-testid":void 0,dimensions:o,mediaLinkBuilder:u,modalEntryPath:v,onClose:g,onOpen:h,postCode:n,postId:m,postModalMediaUFI:f,children:a}),e[5]=t,e[6]=q,e[7]=o,e[8]=u,e[9]=v,e[10]=g,e[11]=h,e[12]=n,e[13]=m,e[14]=f,e[15]=a,e[16]=b):b=e[16];e[17]!==s||e[18]!==r||e[19]!==b?(t=i.jsx(s,{onError:r,children:b}),e[17]=s,e[18]=r,e[19]=b,e[20]=t):t=e[20];return t}function l(a){return a.ads.feed}g["default"]=a}),98);
__d("PolarisNewPostsPill.react",["fbt","PolarisPill.react","polarisLogAction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(6),d=a.onClick;b[0]!==d?(a=function(){c("polarisLogAction")("newPostsPillClick"),d()},b[0]=d,b[1]=a):a=b[1];a=a;var e;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e="xds687c xixxii4 x17qophe x1n327nk",b[2]=e):e=b[2];var f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._("__JHASH__0iQ7o-ke_8i__JHASH__"),b[3]=f):f=b[3];b[4]!==a?(e=k.jsx("div",{className:e,children:k.jsx(c("PolarisPill.react"),{marginTop:2,onClick:a,children:f})}),b[4]=a,b[5]=e):e=b[5];return e}g["default"]=a}),226);
__d("PolarisLightweightNewPostsPill.react",["InstagramODS","PolarisNewPostsPill.react","PolarisNewPostsPillActions","PolarisReactRedux.react","XPolarisFeedControllerRouteBuilder","polarisNewPostsPillSelectors","react","useCometRouterDispatcher","usePolarisLightweightNewPostsPillCheck"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k=b.useRef,l=b.c;function a(){var a=l(24),b=d("PolarisReactRedux.react").useSelector(d("polarisNewPostsPillSelectors").checkHasNewPosts),e=d("PolarisReactRedux.react").useSelector(d("polarisNewPostsPillSelectors").getDocumentVisibilityHiddenTimestamp),f=c("useCometRouterDispatcher")(),g=d("PolarisReactRedux.react").useDispatch(),h=c("usePolarisLightweightNewPostsPillCheck")(),m=k(!0),n;a[0]!==h||a[1]!==e||a[2]!==g?(n=function(){if(document.visibilityState==="visible")h(e);else{var a=Date.now();g(d("PolarisNewPostsPillActions").setDocumentVisibilityHiddenTimestamp(a))}},a[0]=h,a[1]=e,a[2]=g,a[3]=n):n=a[3];var o=n;a[4]!==g||a[5]!==f?(n=function(){c("InstagramODS").incr("web.feed.lightweight_new_posts_pill.triggered");g(d("PolarisNewPostsPillActions").setNewPostsPillVisibility(!1));var a=c("XPolarisFeedControllerRouteBuilder").buildURL({}),b={refreshFeed:!0};f==null?void 0:f.go(a,{passthroughProps:b})},a[4]=g,a[5]=f,a[6]=n):n=a[6];var p=n;a[7]!==b||a[8]!==p?(n=function(){b===!0&&window.scrollY===0&&p()},a[7]=b,a[8]=p,a[9]=n):n=a[9];var q=n,r;a[10]!==o||a[11]!==q?(n=function(){document.addEventListener("visibilitychange",o);document.addEventListener("scroll",q);return function(){document.removeEventListener("visibilitychange",o),document.removeEventListener("scroll",q)}},r=[o,q],a[10]=o,a[11]=q,a[12]=n,a[13]=r):(n=a[12],r=a[13]);j(n,r);a[14]!==b||a[15]!==p?(n=function(){m.current===!0&&(m.current=!1,b===!0&&p())},a[14]=b,a[15]=p,a[16]=n):n=a[16];a[17]!==h||a[18]!==b||a[19]!==p?(r=[h,b,p],a[17]=h,a[18]=b,a[19]=p,a[20]=r):r=a[20];j(n,r);a[21]!==b||a[22]!==p?(n=b?i.jsx(c("PolarisNewPostsPill.react"),{onClick:p}):null,a[21]=b,a[22]=p,a[23]=n):n=a[23];return n}g["default"]=a}),98);
__d("PolarisLoggedOutFeed.entrypointutils",["qex"],(function(a,b,c,d,e,f,g){"use strict";var h=5;function a(){var a;return(a=c("qex")._("95"))!=null?a:h}g.PAGE_SIZE=h;g.getPostChainLimit=a}),98);
__d("PolarisPCManager",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.setComponentData=function(a,b,c){this.$1[b]={data:babelHelpers["extends"]({},c),trackingNode:a}};b.getRenderingData=function(){var a=this,b={};Object.keys(this.$1).forEach(function(c){c=a.$1[c];var d=c.trackingNode;!b[d]?b[d]=[babelHelpers["extends"]({},c.data)]:b[d].push(babelHelpers["extends"]({},c.data))});return b};return a}();f["default"]=a}),66);
__d("useFullViewImpression",["react","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef;function a(a){var b=a.onFullViewStart,d=j({bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1});a=i(function(a){var c=a.entry;a=a.isElementVisible;if(!a&&d.current.hasBeenFullyViewed)d.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1};else if(a&&!d.current.hasBeenFullyViewed){c.intersectionRatio===1?(d.current.bottomRight=!0,d.current.topLeft=!0):(d.current.bottomRight||(d.current.bottomRight=c.boundingClientRect.bottom<=c.rootBounds.bottom&&c.boundingClientRect.right<=c.rootBounds.right),d.current.topLeft||(d.current.topLeft=c.boundingClientRect.top>=c.rootBounds.top&&c.boundingClientRect.left>=c.rootBounds.left));if(d.current.bottomRight&&d.current.topLeft){d.current.hasBeenFullyViewed=!0;return b({currentTime:Date.now()})}}},[b]);var e=i(function(a){a.hiddenTime,a.visibleDuration,a.visibleTime,d.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1}},[]);return c("useVisibilityObserver")({onHidden:e,onIntersection:a,options:{thresholdOverride:"EXPENSIVE"}})}g["default"]=a}),98);
__d("PolarisPCManagerProvider.react",["IgRenderingValidationAutomaticFalcoEvent","PolarisPCManager","PolarisPCManagerContext.react","react","useFullViewImpression","useMergeRefs","usePartialViewImpression","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useState,k=b.c;function l(a){return a.CTA!=null&&a.MEDIA!=null&&a.TITLE!=null&&a.SPONSORED_LABEL!=null&&a.PROFILE_IMAGE!=null&&a.CAPTION!=null}function a(a){var b=k(5),d=a.adLoggingFields;a=a.children;var e=c("useStable")(m),f=j(!1),g=f[0],h=f[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){h(!0)},b[0]=f):f=b[0];f=c("useFullViewImpression")({onFullViewStart:f});var n=c("usePartialViewImpression")({onImpressionEnd:function(){if(g===!0||l(e.getRenderingData())){if(d.userId!=null&&d.mpk!=null){var a={a_pk:d.userId,ad_id:d.adId,locale:d.locale,m_pk:d.mpk,media_type:d.mediaType,pc_component_dict_new:e.getRenderingData(),source_of_action:d.containerModule,tracking_token:d.trackingToken};c("IgRenderingValidationAutomaticFalcoEvent").log(function(){return a})}h(!1)}}});f=c("useMergeRefs")(f,n);n=c("PolarisPCManagerContext.react");f=typeof a==="function"?a(f):i.jsx("div",{ref:f,children:a});b[1]!==n.Provider||b[2]!==e||b[3]!==f?(a=i.jsx(n.Provider,{value:e,children:f}),b[1]=n.Provider,b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}function m(){return new(c("PolarisPCManager"))()}g["default"]=a}),98);